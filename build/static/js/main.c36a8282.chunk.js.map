{"version":3,"sources":["assets/likes_stat/bg.png","js/utils.js","components/ClickerBattle/Button.js","assets/likes_stat/icons/MainIcon.svg","assets/likes_stat/icons/AccessIcon.svg","apps/LikesStat.js","index.js"],"names":["module","exports","get","url","params","a","query","Object","keys","map","value","encodeURIComponent","join","url_","Promise","res","rej","fetch","method","then","json","answer","catch","err","error","code","text","toString","defaultFonts","loadFonts","fonts","font","span","document","createElement","style","fontFamily","innerText","body","appendChild","setTimeout","remove","getUrlParams","window","location","search","length","JSON","parse","decodeURI","substring","replace","Button","this","props","before","after","children","onClick","className","afterStyle","paddingLeft","color","React","cloneElement","paddingRight","PureComponent","_extends","assign","target","i","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","filter","d","fill","_ref3","fillRule","clipRule","_ref4","_ref5","_ref6","id","x","y","width","height","filterUnits","colorInterpolationFilters","floodOpacity","result","in","type","values","dy","stdDeviation","mode","in2","cx","cy","r","gradientUnits","gradientTransform","stopColor","offset","_ref","svgRef","title","viewBox","ref","forwardRef","min","max","LikesStat","require","Math","floor","random","state","popout","history","activePanel","componentDidMount","bind","back","setState","pushState","pop","bridge","send","status","snackbar","go","panel","push","addEventListener","e","preventDefault","subscribe","detail","data","undefined","console","log","schemeAttribute","createAttribute","attributes","setNamedItem","supports","status_bar_style","action_bar_color","app_id","parseInt","vk_app_id","scope","response","token","access_token","activeModal","messages","currentMessageIndex","app","isWebView","onSwipeBack","apiUrl","onClose","alt","src","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c36a8282.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/bg.2479093d.png\";","import {default as bridge} from '@vkontakte/vk-bridge';\r\n\r\nexport function convertTextToLines(text, font, max_width) {\r\n    const\r\n        {createCanvas} = require('canvas'),\r\n        canvas = createCanvas(1080, 1920),\r\n        ctx = canvas.getContext('2d')\r\n    ;\r\n    ctx.font = font;\r\n    let width = 0, lines = [], result, i, j;\r\n\r\n    while (text.length) {\r\n        for (i = text.length; ctx.measureText(text.substr(0, i)).width > max_width; i--) ;\r\n        result = text.substr(0, i);\r\n\r\n        if (i !== text.length)\r\n\r\n            for (j = 0; result.indexOf(' ', j) !== -1; j = result.indexOf(' ', j) + 1) ;\r\n        lines.push(result.substr(0, j || result.length));\r\n\r\n        width = Math.max(width, ctx.measureText(lines[lines.length - 1]).width);\r\n        text = text.substr(lines[lines.length - 1].length, text.length);\r\n    }\r\n\r\n    return lines;\r\n}\r\n\r\nexport async function get(url, params) {\r\n    const\r\n        query = params ? '?' + Object.keys(params).map((value) =>\r\n            encodeURIComponent(value) + '=' + encodeURIComponent(params[value])\r\n        ).join('&') : '',\r\n        url_ = `${url}${query}`;\r\n    return await new Promise((res, rej) => {\r\n        fetch(url_, {method: 'GET'})\r\n            .then(res =>\r\n                res.json()\r\n            )\r\n            .then(answer =>\r\n                res(answer)\r\n            ).catch(err =>\r\n            res({error: {code: -1, text: err.toString()}})\r\n        );\r\n    });\r\n}\r\n\r\nexport const defaultFonts = [\r\n    'SF Pro Text',\r\n    'SF Pro Text Heavy',\r\n    'SF Pro Text Semibold',\r\n    'SF Pro Display',\r\n    'SF Pro Display Bold',\r\n    'SF Pro Display Semibold',\r\n    'SF Pro Display Medium',\r\n    'SF Pro Rounded',\r\n    'SF Pro Rounded Semibold',\r\n    'SF Pro Rounded Bold',\r\n    'SF UI Display',\r\n    'SF UI Text',\r\n    'TT Commons',\r\n    'TT Commons Bold',\r\n    'Manrope ExtraBold'\r\n];\r\n\r\nexport function loadFonts(fonts = defaultFonts) {\r\n    for (const font of fonts) {\r\n        const span = document.createElement('span');\r\n        span.style.fontFamily = font;\r\n        span.innerText = '.';\r\n        document.body.appendChild(span);\r\n        setTimeout(() => span.remove(), 1);\r\n    }\r\n}\r\n\r\nexport function animateValue(obj, start, end, duration) {\r\n    if (start === end || end - start === 1) {\r\n        obj.innerHTML = end;\r\n    } else {\r\n        let startTimestamp = null;\r\n        const step = (timestamp) => {\r\n            if (!startTimestamp) startTimestamp = timestamp;\r\n            const progress = Math.min((timestamp - startTimestamp) / duration, 1);\r\n            obj.innerHTML = Math.floor(progress * (end - start) + start);\r\n            if (progress < 1) {\r\n                window.requestAnimationFrame(step);\r\n            }\r\n        };\r\n        window.requestAnimationFrame(step);\r\n    }\r\n}\r\n\r\nexport function cps(array) {\r\n    if (array.length !== 0) {\r\n        let\r\n            first_date = array[0],\r\n            cur_pos = 0,\r\n            clicks_per_second = []\r\n        ;\r\n        array = array.map(value => value - first_date);\r\n\r\n        for (const click of array) {\r\n            cur_pos = click < 1000 ? 0 : parseInt((click + '').substring(0, (click + '').length - 3));\r\n            clicks_per_second[cur_pos] = clicks_per_second[cur_pos] > 0 ? clicks_per_second[cur_pos] + 1 : 1;\r\n        }\r\n\r\n        clicks_per_second = clicks_per_second.filter(value => value > 0);\r\n\r\n        const\r\n            max_cps = Math.max(...clicks_per_second),\r\n            min_cps = Math.min(...clicks_per_second),\r\n            mid_cps = Math.ceil((max_cps + min_cps) / 2)\r\n        ;\r\n        return {max_cps, min_cps, mid_cps};\r\n    } else {\r\n        return {max_cps: 0, min_cps: 0, mid_cps: 0};\r\n    }\r\n}\r\n\r\nfunction componentToHex(c) {\r\n    const hex = c.toString(16);\r\n    return hex.length == 1 ? '0' + hex : hex;\r\n}\r\n\r\nexport function rgbToHex(r, g, b) {\r\n    return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}\r\n\r\nexport function sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function decOfNum(number, titles, needNumber = true) {\r\n    if (number !== undefined) {\r\n        let decCache = [],\r\n            decCases = [2, 0, 1, 1, 1, 2];\r\n        if (!decCache[number]) decCache[number] = number % 100 > 4 && number % 100 < 20 ? 2 : decCases[Math.min(number % 10, 5)];\r\n        return (needNumber ? number + ' ' : '') + titles[decCache[number]];\r\n    }\r\n}\r\n\r\nexport function numToStr(number) {\r\n    if (number > 0 && number <= 10) {\r\n        const words = [\r\n            'первое', 'второе', 'третье', 'четвертое', 'пятое', 'шестое', 'седьмое', 'восьмое', 'девятое', 'десятое'\r\n        ];\r\n        return words[number - 1];\r\n    } else {\r\n        return number + '';\r\n    }\r\n}\r\n\r\nexport function shortIntegers(int) {\r\n    try {\r\n        return int.toString().replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n    } catch (e) {\r\n        return 0;\r\n    }\r\n}\r\n\r\nexport function getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nexport function nodeToString(node) {\r\n    let tmpNode = document.createElement(\"div\");\r\n    tmpNode.appendChild(node.cloneNode(true));\r\n    let str = tmpNode.innerHTML;\r\n    tmpNode = node = null;\r\n    return str;\r\n}\r\n\r\nexport function convertMiliseconds(miliseconds) {\r\n    let hours, minutes, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return hours + 'ч. ' + minutes + 'мин.';\r\n}\r\n\r\nexport function convertMsToNormalTime(miliseconds) {\r\n    let hours, minutes, seconds, total_hours, total_minutes, total_seconds;\r\n\r\n    total_seconds = parseInt(Math.floor(miliseconds / 1000));\r\n    total_minutes = parseInt(Math.floor(total_seconds / 60));\r\n    total_hours = parseInt(Math.floor(total_minutes / 60));\r\n\r\n    seconds = parseInt(total_seconds % 60);\r\n    minutes = parseInt(total_minutes % 60);\r\n    hours = parseInt(total_hours % 24);\r\n\r\n    return {hours, minutes, seconds};\r\n}\r\n\r\nconst getImage = (src) =>\r\n    new Promise((res, rej) => {\r\n        const image = new Image();\r\n\r\n        image.onload = () => res(image);\r\n        image.crossOrigin = 'anonymous';\r\n        image.onstalled = (e) => {\r\n            console.log('Failed to fetch data, but trying.', e);\r\n            rej(e);\r\n        };\r\n        image.onerror = (e) => {\r\n            console.log('Failed to fetch data, error.', e);\r\n            rej(e);\r\n        };\r\n        image.src = src;\r\n    });\r\n\r\nexport async function toBlob(object, dataUrl = true) {\r\n    const\r\n        myCanvas = document.createElement('canvas'),\r\n        ctxt = myCanvas.getContext('2d');\r\n\r\n    let base = typeof object === 'string' ? object : window.btoa(object);\r\n    const img = await getImage(typeof object === 'string' ? base : `data:image/svg+xml;base64,${base}`);\r\n    myCanvas.height = img.height;\r\n    myCanvas.width = img.width;\r\n    if (ctxt === null) {\r\n        return \"\";\r\n    }\r\n    ctxt.drawImage(img, 0, 0, img.width, img.height);\r\n    return dataUrl ? myCanvas.toDataURL() : myCanvas;\r\n}\r\n\r\nexport function getUrlParams() {\r\n    return window.location.search.length > 0 && JSON.parse('{\"' + decodeURI(window.location.search.substring(1)).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}');\r\n}\r\n\r\nexport const platforms = {\r\n    desktop_web: /desktop_web/g,\r\n    mobile_android: /mobile_android/g,\r\n    mobile_android_messenger: /mobile_android_messenger/g,\r\n    mobile_ipad: /mobile_ipad/g,\r\n    mobile_iphone: /mobile_iphone/g,\r\n    mobile_iphone_messenger: /mobile_iphone_messenger/g,\r\n    mobile_web: /mobile_web/g,\r\n\r\n    android: /mobile_android|mobile_android_messenger/g,\r\n    ios: /mobile_ipad|mobile_iphone|mobile_iphone_messenger/g\r\n};\r\n\r\nexport function isPlatformIOS() {\r\n    return getUrlParams().vk_platform === 'mobile_iphone';\r\n}\r\n\r\nexport function isPlatformAndroid() {\r\n    return platforms.android.test(getUrlParams().vk_platform);\r\n}\r\n\r\nexport function isPlatformDesktop() {\r\n    return getUrlParams().vk_platform === 'desktop_web';\r\n}\r\n\r\nexport let vk_local_users = {},\r\n    name_cases = ['first_name', 'last_name', 'first_name_dat', 'first_name_nom', 'first_name_gen', 'first_name_acc', 'first_name_ins', 'first_name_abl', 'last_name_dat', 'last_name_nom', 'last_name_gen', 'last_name_acc', 'last_name_ins', 'last_name_abl'];\r\n\r\nexport async function getVKUsers(ids) {\r\n    const\r\n        user_ids = [\r\n            ...new Set(\r\n                ids\r\n                    .filter(value => vk_local_users[value] === undefined)\r\n                    .map(\r\n                        value => typeof value === 'number' ? value : value.replace('@', '')\r\n                            .replace('id', '')\r\n                            .replace('vk.com/', '')\r\n                            .replace('http://', '')\r\n                            .replace('https://', '')\r\n                    )\r\n            )\r\n        ],\r\n        i = Math.floor(user_ids.length / 100)\r\n    ;\r\n\r\n    if (user_ids.length > 0) {\r\n        let users = [];\r\n\r\n        for (let j = 0; j < i + 1; j++) {\r\n            users = users.concat(\r\n                await vkApiRequest('users.get', {\r\n                    user_ids: user_ids.slice(j * 100, j * 100 + 100).join(','),\r\n                    fields: ['screen_name', 'photo_100', 'photo_200', ...name_cases].join(',')\r\n                })\r\n            );\r\n        }\r\n\r\n        for (const user of users) {\r\n            vk_local_users[user.id] = user;\r\n        }\r\n    }\r\n\r\n    return ids.map(value => vk_local_users[value] || vk_local_users[Object.keys(vk_local_users).find(key => vk_local_users[key].screen_name === value)]);\r\n}\r\n\r\nexport async function vkApiRequest(method, params = {}) {\r\n    return (await bridge.send('VKWebAppCallAPIMethod', {\r\n        method,\r\n        params: {\r\n            ...params,\r\n            v: '5.126',\r\n            access_token: params.access_token || '47bf45ba47bf45ba47bf45ba1347c8a732447bf47bf45ba271d2be46ed7aad788987004'\r\n        }\r\n    })).response\r\n}\r\n\r\nexport function viewportToPixels(value) {\r\n    const\r\n        parts = value.match(/([0-9\\.]+)(vh|vw)/),\r\n        q = Number(parts[1]),\r\n        side = window[['innerHeight', 'innerWidth'][['vh', 'vw'].indexOf(parts[2])]]\r\n    ;\r\n    return side * (q / 100)\r\n}\r\n\r\nexport function openUrl(url) {\r\n    const element = document.createElement('a');\r\n    element.href = url;\r\n    element.target = '_blank';\r\n    element.click();\r\n    element.remove();\r\n}\r\n\r\nexport function getUrlLocation() {\r\n    return window.location.origin + window.location.pathname.replace('/index.html', '');\r\n}\r\n\r\nexport function getSrcUrl(resource) {\r\n    return getUrlLocation() + resource.substring(1);\r\n}","import React, {PureComponent} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport '../../css/ClickerBattle/Button.css';\r\n\r\nexport class Button extends PureComponent {\r\n\r\n    render() {\r\n        const\r\n            {before, after, children, style, onClick, className} = this.props,\r\n            afterStyle = {\r\n                paddingLeft: 6,\r\n                color: 'rgba(87, 64, 57, 0.6)'\r\n            }\r\n        ;\r\n\r\n        return (\r\n            <div className={'CustomButton' + (className ? ` ${className}` : '')} style={style} onClick={onClick}>\r\n                {before && React.cloneElement(before, {style: {...before.props.style, paddingRight: 10}})}\r\n                {children}\r\n                {after && (typeof after === 'object' ? React.cloneElement(after, {\r\n                    style: afterStyle\r\n                }) : <span style={afterStyle}>{after}</span>)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nButton.propTypes = {\r\n    before: PropTypes.any,\r\n    after: PropTypes.any,\r\n    style: PropTypes.object,\r\n    onClick: PropTypes.func,\r\n    className: PropTypes.string\r\n};\r\n\r\nexport default Button;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  filter: \"url(#filter0_d)\"\n}, React.createElement(\"path\", {\n  d: \"M13.2359 33.6885C13.6142 20.6121 24.2772 10.2643 37.358 10.0982C41.921 10.0402 46.5222 10 50.5 10C54.4778 10 59.079 10.0402 63.642 10.0982C76.7228 10.2643 87.3858 20.6121 87.7641 33.6885C87.9026 38.4755 88 43.3257 88 47.5C88 51.6743 87.9026 56.5245 87.7641 61.3115C87.3858 74.3879 76.7228 84.7357 63.642 84.9018C59.079 84.9598 54.4778 85 50.5 85C46.5222 85 41.921 84.9598 37.358 84.9018C24.2772 84.7357 13.6142 74.3879 13.2359 61.3115C13.0974 56.5245 13 51.6743 13 47.5C13 43.3257 13.0974 38.4755 13.2359 33.6885Z\",\n  fill: \"url(#paint0_radial)\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M31 56.7436C31 53.7839 33.3993 51.3846 36.359 51.3846C39.3187 51.3846 41.7179 53.7839 41.7179 56.7436V60.641C41.7179 63.6007 39.3187 66 36.359 66C33.3993 66 31 63.6007 31 60.641V56.7436ZM36.359 54.3077C35.0137 54.3077 33.9231 55.3983 33.9231 56.7436V60.641C33.9231 61.9863 35.0137 63.0769 36.359 63.0769C37.7043 63.0769 38.7949 61.9863 38.7949 60.641V56.7436C38.7949 55.3983 37.7043 54.3077 36.359 54.3077Z\",\n  fill: \"white\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M44.641 45.0513C44.641 42.0916 47.0403 39.6923 50 39.6923C52.9597 39.6923 55.359 42.0916 55.359 45.0513V60.641C55.359 63.6007 52.9597 66 50 66C47.0403 66 44.641 63.6007 44.641 60.641V45.0513ZM50 42.6154C48.6547 42.6154 47.5641 43.706 47.5641 45.0513V60.641C47.5641 61.9863 48.6547 63.0769 50 63.0769C51.3453 63.0769 52.4359 61.9863 52.4359 60.641V45.0513C52.4359 43.706 51.3453 42.6154 50 42.6154Z\",\n  fill: \"white\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M58.2821 33.359C58.2821 30.3993 60.6813 28 63.641 28C66.6007 28 69 30.3993 69 33.359V60.641C69 63.6007 66.6007 66 63.641 66C60.6813 66 58.2821 63.6007 58.2821 60.641V33.359ZM63.641 30.9231C62.2957 30.9231 61.2051 32.0137 61.2051 33.359V60.641C61.2051 61.9863 62.2957 63.0769 63.641 63.0769C64.9863 63.0769 66.0769 61.9863 66.0769 60.641V33.359C66.0769 32.0137 64.9863 30.9231 63.641 30.9231Z\",\n  fill: \"white\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"filter\", {\n  id: \"filter0_d\",\n  x: 0.323421,\n  y: 0.78067,\n  width: 100.353,\n  height: 100.353,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n}), React.createElement(\"feOffset\", {\n  dy: 3.45725\n}), React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 6.33829\n}), React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 0.745098 0 0 0 0 0.207843 0 0 0 0 0.298039 0 0 0 0.29 0\"\n}), React.createElement(\"feBlend\", {\n  mode: \"lighten\",\n  in2: \"BackgroundImageFix\",\n  result: \"effect1_dropShadow\"\n}), React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"effect1_dropShadow\",\n  result: \"shape\"\n})), React.createElement(\"radialGradient\", {\n  id: \"paint0_radial\",\n  cx: 0,\n  cy: 0,\n  r: 1,\n  gradientUnits: \"userSpaceOnUse\",\n  gradientTransform: \"translate(13 94.5) rotate(-39.5449) scale(121.714 2510.76)\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#B5344B\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#FF003D\"\n})));\n\nvar SvgMainIcon = function SvgMainIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 101,\n    height: 102,\n    viewBox: \"0 0 101 102\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgMainIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/MainIcon.882a2e96.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  filter: \"url(#filter0_d)\"\n}, React.createElement(\"path\", {\n  d: \"M13.2359 33.6885C13.6142 20.6121 24.2772 10.2643 37.358 10.0982C41.921 10.0402 46.5222 10 50.5 10C54.4778 10 59.079 10.0402 63.642 10.0982C76.7228 10.2643 87.3858 20.6121 87.7641 33.6885C87.9026 38.4755 88 43.3257 88 47.5C88 51.6743 87.9026 56.5245 87.7641 61.3115C87.3858 74.3879 76.7228 84.7357 63.642 84.9018C59.079 84.9598 54.4778 85 50.5 85C46.5222 85 41.921 84.9598 37.358 84.9018C24.2772 84.7357 13.6142 74.3879 13.2359 61.3115C13.0974 56.5245 13 51.6743 13 47.5C13 43.3257 13.0974 38.4755 13.2359 33.6885Z\",\n  fill: \"white\"\n}), React.createElement(\"path\", {\n  d: \"M13.2359 33.6885C13.6142 20.6121 24.2772 10.2643 37.358 10.0982C41.921 10.0402 46.5222 10 50.5 10C54.4778 10 59.079 10.0402 63.642 10.0982C76.7228 10.2643 87.3858 20.6121 87.7641 33.6885C87.9026 38.4755 88 43.3257 88 47.5C88 51.6743 87.9026 56.5245 87.7641 61.3115C87.3858 74.3879 76.7228 84.7357 63.642 84.9018C59.079 84.9598 54.4778 85 50.5 85C46.5222 85 41.921 84.9598 37.358 84.9018C24.2772 84.7357 13.6142 74.3879 13.2359 61.3115C13.0974 56.5245 13 51.6743 13 47.5C13 43.3257 13.0974 38.4755 13.2359 33.6885Z\",\n  fill: \"url(#paint0_radial)\"\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M50.5057 42.6447C47.7198 42.6447 45.4613 44.8185 45.4613 47.5C45.4613 50.1815 47.7198 52.3553 50.5057 52.3553C53.2917 52.3553 55.5502 50.1815 55.5502 47.5C55.5502 44.8185 53.2917 42.6447 50.5057 42.6447ZM42.0983 47.5C42.0983 43.0309 45.8624 39.4079 50.5057 39.4079C55.149 39.4079 58.9131 43.0309 58.9131 47.5C58.9131 51.9691 55.149 55.5921 50.5057 55.5921C45.8624 55.5921 42.0983 51.9691 42.0983 47.5Z\",\n  fill: \"white\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M67.7227 47.5L68.2062 47.7699C70.8675 49.2556 71.7872 52.5281 70.2669 55.1024L67.1816 60.327C65.6425 62.9333 62.1909 63.8319 59.4967 62.3278L59.0815 62.0961V62.6053C59.0815 65.5847 56.5721 68 53.4766 68H47.3581C44.2626 68 41.7532 65.5847 41.7532 62.6053V62.1651L41.5538 62.2791C38.8563 63.8217 35.3686 62.9326 33.8181 60.307L30.733 55.0829C29.2241 52.5278 30.1178 49.2804 32.7429 47.7792L33.2311 47.5L32.7429 47.2208C30.1178 45.7196 29.2241 42.4722 30.733 39.9171L33.8181 34.693C35.3686 32.0674 38.8563 31.1783 41.5538 32.7209L41.7532 32.8349V32.3947C41.7532 29.4153 44.2626 27 47.3581 27H53.4766C56.5721 27 59.0815 29.4153 59.0815 32.3947V32.9039L59.4967 32.6722C62.1909 31.1681 65.6425 32.0667 67.1816 34.673L70.2669 39.8976C71.7872 42.4719 70.8675 45.7444 68.2062 47.2301L67.7227 47.5ZM64.3636 49.3666C62.874 48.5351 62.874 46.4649 64.3636 45.6334L66.519 44.4301C67.5835 43.8358 67.9514 42.5268 67.3433 41.4971L64.2579 36.2725C63.6422 35.23 62.2616 34.8705 61.1839 35.4721L59.0854 36.6436C57.5908 37.478 55.7186 36.44 55.7186 34.777V32.3947C55.7186 31.203 54.7148 30.2368 53.4766 30.2368H47.3581C46.1199 30.2368 45.1162 31.203 45.1162 32.3947V34.731C45.1162 36.4042 43.2235 37.4408 41.729 36.5862L39.836 35.5037C38.757 34.8866 37.362 35.2423 36.7417 36.2925L33.6567 41.5166C33.0531 42.5386 33.4106 43.8376 34.4606 44.4381L36.5709 45.6448C38.0333 46.4811 38.0333 48.5189 36.5709 49.3552L34.4606 50.5619C33.4106 51.1624 33.0531 52.4614 33.6567 53.4834L36.7417 58.7075C37.362 59.7577 38.757 60.1134 39.836 59.4963L41.729 58.4138C43.2235 57.5592 45.1162 58.5958 45.1162 60.269V62.6053C45.1162 63.797 46.1199 64.7632 47.3581 64.7632H53.4766C54.7148 64.7632 55.7186 63.797 55.7186 62.6053V60.223C55.7186 58.56 57.5908 57.522 59.0854 58.3564L61.1839 59.5279C62.2616 60.1295 63.6422 59.77 64.2579 58.7275L67.3433 53.5029C67.9514 52.4732 67.5835 51.1642 66.519 50.5699L64.3636 49.3666Z\",\n  fill: \"white\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"filter\", {\n  id: \"filter0_d\",\n  x: 0.323421,\n  y: 0.78067,\n  width: 100.353,\n  height: 100.353,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n}), React.createElement(\"feOffset\", {\n  dy: 3.45725\n}), React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 6.33829\n}), React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 0.745098 0 0 0 0 0.207843 0 0 0 0 0.298039 0 0 0 0.29 0\"\n}), React.createElement(\"feBlend\", {\n  mode: \"lighten\",\n  in2: \"BackgroundImageFix\",\n  result: \"effect1_dropShadow\"\n}), React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"effect1_dropShadow\",\n  result: \"shape\"\n})), React.createElement(\"radialGradient\", {\n  id: \"paint0_radial\",\n  cx: 0,\n  cy: 0,\n  r: 1,\n  gradientUnits: \"userSpaceOnUse\",\n  gradientTransform: \"translate(13 94.5) rotate(-39.5449) scale(121.714 2510.76)\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#B5344B\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#FF003D\"\n})));\n\nvar SvgAccessIcon = function SvgAccessIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 101,\n    height: 102,\n    viewBox: \"0 0 101 102\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgAccessIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/AccessIcon.bf35be1c.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport bridge from '@vkontakte/vk-bridge';\r\nimport '../css/LikesStat.css';\r\n\r\nimport {\r\n    Panel,\r\n    View,\r\n    Snackbar, ConfigProvider\r\n} from '@vkontakte/vkui';\r\nimport {decOfNum, get, getRandomInt, getUrlParams, loadFonts, openUrl, shortIntegers} from \"../js/utils\";\r\nimport Button from \"../components/ClickerBattle/Button\";\r\nimport {Icon16Done, Icon16ErrorCircleFill} from \"@vkontakte/icons\";\r\nimport {ReactComponent as MainIcon} from \"../assets/likes_stat/icons/MainIcon.svg\";\r\nimport {ReactComponent as AccessIcon} from \"../assets/likes_stat/icons/AccessIcon.svg\";\r\n\r\nconst\r\n    axios = require('axios'),\r\n    getAppUrl = 'https://vds2056815.my-ihor.ru:8081/api/apps.get',\r\n    proxyUrl = ['https://murmuring-bastion-20764.herokuapp.com/', 'https://vds2056823.my-ihor.ru:8088/'][getRandomInt(0, 1)],\r\n\r\n    apiUrl = 'https://vds2114385.my-ihor.ru:8081/api/'\r\n;\r\n\r\nclass LikesStat extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            popout: null,\r\n            history: ['p1'],\r\n            activePanel: 'p1'\r\n        };\r\n\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n        this.back = () => {\r\n            if (this.state.popout !== null) {\r\n                this.setState({popout: null});\r\n                window.history.pushState({pop: 'popout'}, 'Title');\r\n                return;\r\n            }\r\n            let {history} = this.state;\r\n            if (history.length === 1) {\r\n                bridge.send('VKWebAppClose', {status: 'success'});\r\n            } else if (history.length > 1) {\r\n                history.pop();\r\n                this.setState({activePanel: history[history.length - 1], history, snackbar: null});\r\n            }\r\n        };\r\n        this.go = (panel) => {\r\n            let {history} = this.state;\r\n            if (history[history.length - 1] !== panel) {\r\n                history.push(panel);\r\n                window.history.pushState({activePanel: panel}, 'Title');\r\n                this.setState({activePanel: panel, history, snackbar: null});\r\n            }\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        loadFonts(['TT Firs Neue Medium', 'TT Firs Neue DemiBold']);\r\n\r\n        window.addEventListener('popstate', e => {\r\n            e.preventDefault();\r\n            this.back();\r\n        });\r\n\r\n        bridge.subscribe(async ({detail: {type, data}}) => {\r\n            if (type !== undefined) console.log(type, data);\r\n            if (type === 'VKWebAppUpdateConfig') {\r\n                const schemeAttribute = document.createAttribute('scheme');\r\n                schemeAttribute.value = 'bright_light';\r\n                document.body.attributes.setNamedItem(schemeAttribute);\r\n                if (bridge.supports('VKWebAppSetViewSettings')) {\r\n                    bridge.send('VKWebAppSetViewSettings', {\r\n                        status_bar_style: 'light',\r\n                        action_bar_color: '#953149'\r\n                    });\r\n                }\r\n            } else if (type === 'VKWebAppViewRestore') {\r\n                this.setState({popout: null});\r\n            }\r\n        });\r\n\r\n        //this.setState({app: (await get(getAppUrl, {app_id: getUrlParams().vk_app_id})).response});\r\n\r\n        bridge.send('VKWebAppInit');\r\n        bridge.send('VKWebAppEnableSwipeBack');\r\n    }\r\n\r\n    async setToken() {\r\n        const response = await bridge.send('VKWebAppGetAuthToken', {\r\n            app_id: parseInt(getUrlParams().vk_app_id),\r\n            scope: 'friends,wall,photos'\r\n        });\r\n        if (response.scope.indexOf('wall') > -1) {\r\n            this.setState({token: response.access_token});\r\n        }\r\n    }\r\n\r\n    /*\r\n    async shareStory() {\r\n        try {\r\n            const canvas = await this.getStoryCanvas();\r\n            await bridge.send('VKWebAppShowStoryBox', {\r\n                background_type: 'image',\r\n                blob: canvas.toDataURL('image/png'),\r\n                attachment: {\r\n                    text: 'go_to',\r\n                    type: 'url',\r\n                    url: `https://vk.com/app${getUrlParams().vk_app_id}`\r\n                }\r\n            });\r\n\r\n            if (this.state.token) {\r\n                canvas.toBlob(async function (blob) {\r\n                    this.uploadStoryPhotoToWall(blob);\r\n                }.bind(this));\r\n            }\r\n        } catch (e) {\r\n\r\n        }\r\n\r\n        this.go('vk_likes');\r\n    }\r\n\r\n    async getStoryCanvas() {\r\n        const\r\n            {createCanvas, loadImage} = require('canvas'),\r\n            canvas = createCanvas(1080, 1920),\r\n            ctx = canvas.getContext('2d')\r\n        ;\r\n\r\n        const\r\n            background = await loadImage(require('../assets/vk_time/story/bg.png')),\r\n            ic_time = await loadImage(require('../assets/vk_time/story/ic_time.png')),\r\n            ic_msg = await loadImage(require('../assets/vk_time/story/ic_msg.png'))\r\n        ;\r\n\r\n        ctx.drawImage(background, 0, 0);\r\n        ctx.textAlign = 'left';\r\n        ctx.fillStyle = '#FFFFFF';\r\n\r\n        const\r\n            {hours, messages} = this.state.data,\r\n            hoursText = shortIntegers(hours),\r\n            messagesText = shortIntegers(messages),\r\n            hoursPref = decOfNum(hours, ['час', 'часа', 'часов'], false),\r\n            messagesPref = decOfNum(messages, ['сообщение', 'сообщения', 'сообщений'], false)\r\n        ;\r\n\r\n        ctx.font = (hours >= 1000000 ? 120 : 178) + 'px TT Firs Neue DemiBold';\r\n        ctx.fillText(hoursText, 106, 408 + 169);\r\n        ctx.drawImage(ic_time, 106 + ctx.measureText(hoursText).width + 51, 439.22);\r\n\r\n        ctx.font = (messages >= 1000000 ? 120 : 178) + 'px TT Firs Neue DemiBold';\r\n        ctx.fillText(messagesText, 106, 1095 + 169);\r\n        ctx.drawImage(ic_msg, 106 + ctx.measureText(messagesText).width + 64, 1136.38);\r\n\r\n        ctx.font = '133px TT Firs Neue Medium';\r\n        ctx.fillText(hoursPref, 106, 624 + 127);\r\n        ctx.font = '133px TT Firs Neue Medium';\r\n        ctx.fillText(messagesPref, 106, 1309 + 127);\r\n\r\n        return canvas;\r\n    }\r\n\r\n    async uploadStoryPhotoToWall(blob) {\r\n        const\r\n            uploadWallUrl = (await bridge.send('VKWebAppCallAPIMethod', {\r\n                method: 'photos.getWallUploadServer',\r\n                params: {\r\n                    v: '5.126',\r\n                    access_token: this.state.token\r\n                }\r\n            })).response.upload_url,\r\n            bodyFormData = new FormData()\r\n        ;\r\n\r\n        bodyFormData.append('photo', blob, 'image.png');\r\n\r\n        try {\r\n            fetch(proxyUrl + uploadWallUrl, {\r\n                method: 'POST',\r\n                body: bodyFormData\r\n            })\r\n                .then(res_ => {\r\n                    return res_.json();\r\n                })\r\n                .then(async response => {\r\n                    const {server, photo, hash} = response;\r\n                    const wallPhoto = (await bridge.send('VKWebAppCallAPIMethod', {\r\n                        method: 'photos.saveWallPhoto',\r\n                        params: {\r\n                            server,\r\n                            photo,\r\n                            hash,\r\n                            caption: 'Узнал свою статистику с момента регистрации ВК. Офигеть))\\n' +\r\n                                '\\n' +\r\n                                `Узнай свою - https://vk.com/app${getUrlParams().vk_app_id}`,\r\n                            v: '5.126',\r\n                            access_token: this.state.token\r\n                        }\r\n                    })).response[0];\r\n\r\n                    bridge.send('VKWebAppShowWallPostBox', {\r\n                        message: '',\r\n                        copyright: 'https://vk.com/app' + getUrlParams().vk_app_id,\r\n                        attachments: `photo${wallPhoto.owner_id}_${wallPhoto.id}`\r\n                    });\r\n                });\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    async uploadStoryPhotoToAlbum(blob) {\r\n        const\r\n            album_id = (await bridge.send('VKWebAppCallAPIMethod', {\r\n                method: 'photos.createAlbum',\r\n                params: {\r\n                    title: 'Сколько времени я провёл в ВК',\r\n                    v: '5.126',\r\n                    access_token: this.state.token\r\n                }\r\n            })).response.id,\r\n            uploadAlbumUrl = (await bridge.send('VKWebAppCallAPIMethod', {\r\n                method: 'photos.getUploadServer',\r\n                params: {\r\n                    album_id,\r\n                    v: '5.126',\r\n                    access_token: this.state.token\r\n                }\r\n            })).response.upload_url,\r\n            bodyFormData = new FormData()\r\n        ;\r\n\r\n        bodyFormData.append('photo', blob, 'image.png');\r\n\r\n        try {\r\n            fetch(proxyUrl + uploadAlbumUrl, {\r\n                method: 'POST',\r\n                body: bodyFormData\r\n            })\r\n                .then(res_ => {\r\n                    return res_.json();\r\n                })\r\n                .then(async response => {\r\n                    const {server, photos_list, hash} = response;\r\n                    await bridge.send('VKWebAppCallAPIMethod', {\r\n                        method: 'photos.save',\r\n                        params: {\r\n                            album_id,\r\n                            server,\r\n                            photos_list,\r\n                            hash,\r\n                            caption: 'Узнал свою статистику с момента регистрации ВК. Офигеть))\\n' +\r\n                                '\\n' +\r\n                                `Узнай свою - https://vk.com/app${getUrlParams().vk_app_id}`,\r\n                            v: '5.126',\r\n                            access_token: this.state.token\r\n                        }\r\n                    });\r\n                });\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    */\r\n    render() {\r\n        const\r\n            {\r\n                activePanel, activeModal, popout,\r\n                messages, currentMessageIndex,\r\n\r\n                snackbar,\r\n\r\n                app\r\n            } = this.state\r\n        ;\r\n\r\n        return (\r\n            <ConfigProvider isWebView={true}>\r\n                <View\r\n                    activePanel={activePanel}\r\n                    popout={popout}\r\n                    onSwipeBack={this.back}\r\n                >\r\n                    <Panel id='p1'>\r\n                        <div className='FullScreen__Container'>\r\n                            <AccessIcon/>\r\n                            <div className='FullScreen__Title'>\r\n                                Разрешите доступ\r\n                            </div>\r\n                            <div className='FullScreen__Description'>\r\n                                Приложение разрабатывается, разреши мне отправлять тебе уведомление и я оповещу тебя,\r\n                                когда приложение запуститься!\r\n                            </div>\r\n                        </div>\r\n                        <Button\r\n                            onClick={async () => {\r\n                                try {\r\n                                    await bridge.send('VKWebAppAllowNotifications');\r\n\r\n                                    await get(apiUrl + 'users.enableNotify', getUrlParams());\r\n\r\n                                    if (snackbar) return;\r\n                                    this.setState({\r\n                                        snackbar: <Snackbar\r\n                                            onClose={() => this.setState({snackbar: null})}\r\n                                            before={<Icon16Done width={20} height={20}/>}\r\n                                        >\r\n                                            Отлично! Мы пришлём тебе уведомление, как только приложение будет готово :)\r\n                                        </Snackbar>\r\n                                    });\r\n                                } catch (e) {\r\n                                }\r\n                            }}\r\n                        >\r\n                            Разрешить\r\n                        </Button>\r\n                        <img alt='bg' className='Background' src={require('../assets/likes_stat/bg.png')}/>\r\n                        {snackbar}\r\n                    </Panel>\r\n                </View>\r\n            </ConfigProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LikesStat;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport {AppRoot} from \"@vkontakte/vkui\";\n\nimport './css/Fonts.css';\nimport './css/Error.css';\nimport './css/Utils.css';\n\n//import App from './apps/Tracker';\n//import App from './apps/Wheel';\n//import App from './apps/MedicalCard';\n//import App from './apps/AskMe';\n//import App from './apps/LoveAnalysis';\n//import App from './apps/BattleStat';\n//import App from './apps/BattleStatCatalog';\n//import App from './apps/YearTest';\n//import App from './apps/IQTest';\n//import App from './apps/MvsW';\n//import App from './apps/DeathDate';\n//import App from './apps/Slaves';\n//import App from './apps/VKTime';\nimport App from './apps/LikesStat';\n//import App from './apps/ClickerBattle/ClickerBattle';\n\n\nReactDOM.render(\n    <AppRoot>\n        <App/>\n    </AppRoot>, document.getElementById('root')\n);\n"],"sourceRoot":""}